//C++

class Solution {
    struct trienode{
        trienode *child[10];
        trienode(){
            for(int i=0;i<10;++i)
                child[i]=NULL;
        }
    };

    void trie_insert(string& s,trienode* curr){
        int idx;
        for(int i=0;s[i]!='\0';++i){
            idx = s[i]-'0';
            if(curr->child[idx]==NULL)
                curr->child[idx] = new trienode();
            curr = curr->child[idx];
        }
    }
    int trie_match(string& s,trienode* curr){
        int idx;
        int count = 0;
        for(int i=0;s[i]!='\0';++i){
            idx = s[i]-'0';
            if(!curr->child[idx])
                break;
            curr = curr->child[idx];
            count++;
        }
        return count;
    }
public:
    int longestCommonPrefix(vector<int>& arr1, vector<int>& arr2) {
        trienode *root = new trienode();
        string curr;
        //Insert all numbers of arr1 in Trie
        for(int ele: arr1){
            curr = to_string(ele);
            trie_insert(curr,root);
        }
        
        int maxLen = 0;
        //For every number in arr2, search LCP using Trie built from all numbers of arr1
        for(int ele: arr2){
            curr = to_string(ele);
            int len = trie_match(curr,root);
            maxLen = max(maxLen,len);
        }
        return maxLen;
    }
};

//Java

class Solution {

    class TrieNode {
        TrieNode[] child = new TrieNode[10];
    }

    private void insert(String s, TrieNode root) {
        TrieNode curr = root;
        for (int i = 0; i < s.length(); i++) {
            int idx = s.charAt(i) - '0';
            if (curr.child[idx] == null)
                curr.child[idx] = new TrieNode();
            curr = curr.child[idx];
        }
    }

    private int match(String s, TrieNode root) {
        TrieNode curr = root;
        int count = 0;
        for (int i = 0; i < s.length(); i++) {
            int idx = s.charAt(i) - '0';
            if (curr.child[idx] == null)
                break;
            curr = curr.child[idx];
            count++;
        }
        return count;
    }

    public int longestCommonPrefix(int[] arr1, int[] arr2) {
        TrieNode root = new TrieNode();

        // Insert arr1 numbers
        for (int num : arr1)
            insert(String.valueOf(num), root);

        int maxLen = 0;

        // Match arr2 numbers
        for (int num : arr2) {
            int len = match(String.valueOf(num), root);
            maxLen = Math.max(maxLen, len);
        }

        return maxLen;
    }
}


#Python

class TrieNode:
    def __init__(self):
        self.child = [None] * 10


class Solution:
    def insert(self, s, root):
        curr = root
        for ch in s:
            idx = ord(ch) - ord('0')
            if curr.child[idx] is None:
                curr.child[idx] = TrieNode()
            curr = curr.child[idx]

    def match(self, s, root):
        curr = root
        count = 0
        for ch in s:
            idx = ord(ch) - ord('0')
            if curr.child[idx] is None:
                break
            curr = curr.child[idx]
            count += 1
        return count

    def longestCommonPrefix(self, arr1, arr2):
        root = TrieNode()

        # Insert arr1 strings
        for num in arr1:
            self.insert(str(num), root)

        max_len = 0
        # Match arr2 strings
        for num in arr2:
            max_len = max(max_len, self.match(str(num), root))

        return max_len
